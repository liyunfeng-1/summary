# OAuth 2.0和JWT的区别

**基于令牌的认证由于会包含认证用户的相关信息，因此可以通过验证令牌来完成用户身份的校验，完全不同于之前基于会话的认证。因此，基于令牌的这个优点，像T微信、支付宝、微博及GitHub等，都推出了基于令牌的认证服务，用于访问所开放的API及单点登录。接下来将重点介绍基于令牌认证方案中的OAuth 2.0和JWT**

## OAuth 2.0

范围是OAuth 2.0中的一种机制，用于限制应用程序对用户帐户的访问。**一个应用程序可以请求一个或多个范围**，然后在同一 屏幕中将此信息呈现给用户，并且颁发给该应用程序的访问令牌将限于所授予的范围。

### **OAuth 2.0客户端授权模式**

生产中一般采用**授权码模式**，简单来说就是你要**重定向**url认证服务器获取授权码（code)，在获取访问令牌。

简单画了一个流程图



![img](https://pic4.zhimg.com/80/v2-8fee285206cee3db36a549768a0cd83b_720w.jpg)

## **JWT**

oken生成的其实**就是一个UUID**，和业务没有丝毫的关系，这样带来最大的问题，就是需要人工持久化处理token（像处理分布式下的sessionId一样）。但是**jwt就不需要，因为自包含，所以token里有身份验证信息**，不需要做后台持久化处理，前端每次请求被保护的资源时请求头里带上该token就可以实现。

使用的签名算法，例如HMAC SHA256或RSA。